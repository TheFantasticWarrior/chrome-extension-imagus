#!/bin/bash

if ! [ -x "$(command -v js-beautify)" ]; then
	# https://pypi.org/project/jsbeautifier/
	sudo pip install jsbeautifier
fi

if [ -z "$(pip list | grep -F beautifulsoup4)" ]; then
	# https://beautiful-soup-4.readthedocs.io/
	sudo pip install beautifulsoup4
fi

unminify () {
	inFile="$1"
	outFile="unminified/$1"
	echo "'$inFile'  =>  '$outFile'"
	js-beautify --disable-preserve-newlines -o $outFile $inFile
}

unminify_html () {
	inFile="$1"
	outFile="unminified-$1"
	echo "'$inFile'  =>  '$outFile'"
	python3 unminify_html.py $inFile $outFile
}


mkdir -p unminified
unminify sieve.jsn
unminify locales.jsn
